<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Browse Wilcare Aqua's full range of pure water products, including gallon containers, bottled water, and ice for delivery in Angeles City.">
  <title>Wilcare Aqua - Our Products</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="products.css" />
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1DGS2JQCH5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-1DGS2JQCH5');
</script>
  
<body class="flex flex-col min-h-screen">
  <header class="navbar">
    <div class="navbar-container">
      <img src="../images/logo.png" alt="Wilcare Aqua Logo" class="logo"/>
      <nav>
        <ul class="nav-links">
          <li><a href="../landing_page/landing.html">Home</a></li>
          <li><a href="../products/products.html" class="active">Products</a></li>
          <li><a href="../feature/feature.html">Features</a></li>
          <li><a href="../contact/contact.html">Contact</a></li>
          <li><a href="../signup/signup.html" class="btn-signup">Sign Up</a></li>
        </ul>
      </nav>
      <button class="menu-toggle" aria-label="Toggle navigation">&#9776;</button>
    </div>
  </header>
  <main class="main-content">
    <section class="products-section">
      <div class="products-header">
        <h1 class="section-title">Our Water Products & Services</h1>
        <div class="search-bar-container">
          <input type="text" id="search-input" placeholder="Search products..." class="search-input" />
          <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </div>
      </div>

      <div class="product-grid">
        <div class="product-card reveal-item">
          <img src="../images/products1.jfif" alt="Gallon Container" class="product-image">
          <div class="product-info">
            <h3 class="product-name">Gallon Container</h3>
            <p class="product-price" data-price="200.00">â‚±200.00</p>
            
            <div class="star-rating-container" data-product="Gallon Container">
              <span class="star" data-value="1">â˜…</span>
              <span class="star" data-value="2">â˜…</span>
              <span class="star" data-value="3">â˜…</span>
              <span class="star" data-value="4">â˜…</span>
              <span class="star" data-value="5">â˜…</span>
            </div>
            <div class="product-quantity-control">
              <label for="qty1">Qty:</label>
              <input type="number" id="qty1" value="1" min="1" max="99" class="quantity-input">
            </div>
            <button class="add-to-cart-btn">Add to Cart</button>
          </div>
        </div>

        <div class="product-card reveal-item">
          <img src="../images/products2.jpg" alt="Gallon Round Container" class="product-image">
          <div class="product-info">
            <h3 class="product-name">Gallon Round Container</h3>
            <p class="product-price" data-price="150.00">â‚±150.00</p>
            
            <div class="star-rating-container" data-product="Gallon Round Container">
              <span class="star" data-value="1">â˜…</span>
              <span class="star" data-value="2">â˜…</span>
              <span class="star" data-value="3">â˜…</span>
              <span class="star" data-value="4">â˜…</span>
              <span class="star" data-value="5">â˜…</span>
            </div>
            <div class="product-quantity-control">
              <label for="qty2">Qty:</label>
              <input type="number" id="qty2" value="1" min="1" max="99" class="quantity-input">
            </div>
            <button class="add-to-cart-btn">Add to Cart</button>
          </div>
        </div>

        <div class="product-card reveal-item">
          <img src="../images/products3.jfif" alt="Plastic Water Bottle" class="product-image">
          <div class="product-info">
            <h3 class="product-name">Plastic Water Bottle</h3>
            <p class="product-price" data-price="15.00">â‚±15.00</p>
            
            <div class="star-rating-container" data-product="Plastic Water Bottle">
              <span class="star" data-value="1">â˜…</span>
              <span class="star" data-value="2">â˜…</span>
              <span class="star" data-value="3">â˜…</span>
              <span class="star" data-value="4">â˜…</span>
              <span class="star" data-value="5">â˜…</span>
            </div>
            <div class="product-quantity-control">
              <label for="qty3">Qty:</label>
              <input type="number" id="qty3" value="1" min="1" max="10" class="quantity-input">
            </div>
            <button class="add-to-cart-btn">Add to Cart</button>
          </div>
        </div>

        <div class="product-card reveal-item">
          <img src="../images/products4.webp" alt="Ice Bag" class="product-image">
          <div class="product-info">
            <h3 class="product-name">Ice Bag</h3>
            <p class="product-price" data-price="1.00">â‚±1.00</p>
            
            <div class="star-rating-container" data-product="Ice Bag">
              <span class="star" data-value="1">â˜…</span>
              <span class="star" data-value="2">â˜…</span>
              <span class="star" data-value="3">â˜…</span>
              <span class="star" data-value="4">â˜…</span>
              <span class="star" data-value="5">â˜…</span>
            </div>
            <div class="product-quantity-control">
              <label for="qty4">Qty:</label>
              <input type="number" id="qty4" value="1" min="1" max="50" class="quantity-input">
            </div>
            <button class="add-to-cart-btn">Add to Cart</button>
          </div>
        </div>
      </div>
    </section>

    <aside class="empty-sidebar" id="cart-sidebar">
      <h2 class="sidebar-title">Your Cart / Quick Info</h2>
      <div id="cart-content">
        <div class="cart-placeholder" id="cart-placeholder">
          <p>Your cart is empty. Add some products to get started!</p>
        </div>
        <ul id="cart-items-container"></ul>
        <div class="cart-summary" id="cart-summary" style="display:none;">
          <p>Total: <span id="cart-total-price">â‚±0.00</span></p>
          <button class="btn-primary" id="checkout-btn">Checkout</button>
        </div>
      </div>
      <div id="transaction-complete-message" style="display:none;" class="transaction-message">
        <h3>ðŸŽ‰ Order Placed! ðŸŽ‰</h3>
        <p>Your order has been successfully processed.</p>
        <p>Thank you for your purchase!</p>
      </div>
      <div class="sidebar-cta">
        <h3>Need Assistance?</h3>
        <p>Call us: <a href="tel:+639154217034">0915-421-7034</a></p>
        <p>Email: <a href="mailto:ndg963@yahoo.com">ndg963@yahoo.com</a></p>
      </div>
    </aside>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Wilcare Aqua Water Refilling Station. All rights reserved.</p>
  </footer>

  <script>
    const menuToggle = document.querySelector('.menu-toggle');
    const navLinks = document.querySelector('.nav-links');
    menuToggle.addEventListener('click', () => navLinks.classList.toggle('active'));
    const searchInput = document.getElementById('search-input');
    const productCards = document.querySelectorAll('.product-card');
    
    // Search functionality
    searchInput.addEventListener('input', e => {
      const term = e.target.value.toLowerCase();
      productCards.forEach(card => {
        const name = card.querySelector('.product-name').textContent.toLowerCase();
        card.style.display = name.includes(term) ? 'flex' : 'none';
      });
    });

    const cartItemsContainer = document.getElementById('cart-items-container');
    const cartPlaceholder = document.getElementById('cart-placeholder');
    const cartSummary = document.getElementById('cart-summary');
    const cartTotalPrice = document.getElementById('cart-total-price');
    const checkoutBtn = document.getElementById('checkout-btn');
    const transactionCompleteMessage = document.getElementById('transaction-complete-message');

    function updateCartDisplay(cartItems) {
      cartItemsContainer.innerHTML = '';
      let total = 0;
      if (cartItems.length === 0) {
        cartPlaceholder.style.display = 'block';
        cartSummary.style.display = 'none';
        transactionCompleteMessage.style.display = 'none';
      } else {
        cartPlaceholder.style.display = 'none';
        cartSummary.style.display = 'block';
        cartItems.forEach(item => {
          renderCartItem(item);
          total += item.price * item.quantity;
        });
        cartTotalPrice.textContent = `â‚±${total.toFixed(2)}`;
      }
    }

    function highlightStars(container, value) {
      const stars = container.querySelectorAll('.star');
      stars.forEach(star => {
        star.classList.remove('selected');
        if (parseInt(star.dataset.value) <= parseInt(value)) {
          star.classList.add('selected');
        }
      });
    }

    window.addEventListener('DOMContentLoaded', () => {
      const savedCart = JSON.parse(localStorage.getItem('cartItems')) || [];
      updateCartDisplay(savedCart);

      document.querySelectorAll('.star-rating-container').forEach(container => {
        const product = container.dataset.product;
        let savedRating = localStorage.getItem(`rating-${product}`);
        if (savedRating) highlightStars(container, savedRating);
      });
    });

    document.querySelectorAll('.star-rating-container .star').forEach(star => {
      star.addEventListener('click', () => {
        const container = star.closest('.star-rating-container');
        const product = container.dataset.product;
        const value = star.dataset.value;
        localStorage.setItem(`rating-${product}`, value);
        highlightStars(container, value);
      });
    });

    document.querySelectorAll('.star-rating-container').forEach(container => {
        const stars = container.querySelectorAll('.star');
        
        container.addEventListener('mouseover', (e) => {
            if (e.target.classList.contains('star')) {
                const hoverValue = parseInt(e.target.dataset.value);
                stars.forEach(star => {
                    star.style.color = parseInt(star.dataset.value) <= hoverValue ? 'var(--star-color)' : 'var(--border-color)';
                });
            }
        });

        container.addEventListener('mouseout', () => {
            const product = container.dataset.product;
            let savedRating = localStorage.getItem(`rating-${product}`);
            if (savedRating) {
                highlightStars(container, savedRating);
            } else {
                stars.forEach(star => star.style.color = 'var(--border-color)');
            }
        });
        
        const product = container.dataset.product;
        let savedRating = localStorage.getItem(`rating-${product}`);
        if (savedRating) highlightStars(container, savedRating);
    });
    
    document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
      btn.addEventListener('click', e => {
        const card = e.target.closest('.product-card');
        const name = card.querySelector('.product-name').textContent;
        const price = parseFloat(card.querySelector('.product-price').dataset.price);
        const qtyInput = card.querySelector('.product-quantity-control .quantity-input');
        const qty = parseInt(qtyInput.value);

        let cart = JSON.parse(localStorage.getItem('cartItems')) || [];
        const idx = cart.findIndex(i => i.name === name);
        if (idx > -1) {
          cart[idx].quantity += qty;
        } else {
          cart.push({ name, price, quantity: qty });
        }
        localStorage.setItem('cartItems', JSON.stringify(cart));
        updateCartDisplay(cart);
      });
    });

    function renderCartItem(item) {
      const li = document.createElement('li');
      li.className = 'cart-item';
      li.innerHTML = `
        <div class="cart-item-info">
          <span class="cart-item-name">${item.name}</span>
          <span class="cart-item-price">â‚±${(item.price * item.quantity).toFixed(2)} (${item.quantity} pcs)</span>
        </div>
        <button class="remove-from-cart-btn" data-name="${item.name}">&times;</button>
      `;
      cartItemsContainer.appendChild(li);

      li.querySelector('.remove-from-cart-btn').addEventListener('click', e => {
        const name = e.target.dataset.name;
        let cart = JSON.parse(localStorage.getItem('cartItems')) || [];
        const idx = cart.findIndex(i => i.name === name);
        if (idx > -1) {
          cart.splice(idx, 1);
          localStorage.setItem('cartItems', JSON.stringify(cart));
        }
        updateCartDisplay(cart);
      });
    }

    checkoutBtn.addEventListener('click', () => {
      let cart = JSON.parse(localStorage.getItem('cartItems')) || [];
      if (cart.length > 0) {
        localStorage.removeItem('cartItems');
        cartPlaceholder.style.display = 'none';
        cartSummary.style.display = 'none';
        cartItemsContainer.innerHTML = '';
        transactionCompleteMessage.style.display = 'block';
        setTimeout(() => {
          transactionCompleteMessage.style.display = 'none';
          updateCartDisplay([]);
        }, 5000);
      }
    });

    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          obs.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal-item').forEach(i => observer.observe(i));
  </script>
</body>

</html>

